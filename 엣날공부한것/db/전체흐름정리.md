# 핵심 데이터 모델링
## 데이터모델링이란?
 * 현행업무를 파악하기 위해서 실제업무를 모방해서 만든것(현실에 있는것 -> 프로그램화 )
 * 데이터 시스템 구조를 사람이 이해할 수 있게 형상화 하는 과정.
 * 결국 데이터구조를 내 비지니스 업무에 맞아 읽고 쓰기 쉽게 어떤구조로 만들고 표현할것인가 
---
## DB의 종류
1. ER모델(개채관계모델)
	표현하고자 하는 현실 세계의 업무를 개체와 관계라는 두 가지 개념으로 표현하는 모델이다.
	ER표기법을 사용하여 표현한다.
	ERD : ER에서 사용하는 실체와 관계를 도식화한 것, 이를 알기 쉽게 도형으로 표현한다.
	* ER모델의 구성요소:
		1. 엔티티(Entity) 
			-  = 클래스 =table
			- 엔티티의 특징
			 	- 최소 속성 2개이상
				- 반드시 인스턴스 각각을 구별가능한 것(속성이나 관계)이 하나 이상 정의되어야 한다
			- 엔티티의 재정의
			 	-  일반화
					- 여러개의 엔티티를 공통의 성격으로 묶어 하나의 엔티티로 재정의한다.두개의 하위수준 엔티티를 합쳐 하나의 상위수준으로 바꾸는 상향식 접근방식
					- 슈퍼타입, 서브타입 엔티티로 확장 가능하다.
						ex) 고객 (슈퍼타입), 개인 고객, 법인 고객 (서브타입) 
							Java로 예를 들면 서브타입은 슈퍼타입을 상속받았다.
						if) 개인고객, 법인고객 고객으로 합침 
							- join을 하지않아 개발 생산성 증대,
							but 속성의 의미가 불분명해 데이터 무결성 문제가 발생 할 수 있음(db제약조건: 무결성)
							[Pasted image 20240216162615.png]
				- 특수화
					- 일반화의 반대 개념으로, 하나의 상위수준 엔티티를 둘로 쪼개 두개의 하위수준 엔티티로 나누는 하향식 접근방식
				- 집단화
					- 여러 엔티티가 하나의 엔티티로 취급하는 경우
						ex 고객과 상품간의 관계를 단일 엔티티(주문상품)으로 재정의 해 배송과 관계를 맺는다.
			- 엔티티의 분류
			 	 - ![[Pasted image 20240216170354.png]]
				 - 관계관점
					 - 강한 엔티티 : 독립적으로 존재하며, 엔티티 내에서 고유하게인스턴스를식별할수있다. 
						 - ex) 고객, 상품 등 
					 - 약한 엔티티 : 다른 엔티티에 종속적이며, 자체 식별자를 가질 수 없고, 다른 엔티티의 식별자를 상속받아 사용한다. 
						 - ex) 주문상품은 주문에서 주문번호를 상속받아 식별자로 사용
				 - 형태관점
					 - 독립 엔티티 : 사람, 물건, 장소, 개념처럼 원래부터 현실에존재하는엔티티 
						 - ex) 고객, 상품, 창고, 조직 
					 - 업무중심 엔티티 : 업무를 처리하면서 발생하는 데이터 
						 - ex) 주문, 결제, 배송, 청구
					 - 종속 엔티티 : 업무중심 엔티티에서 1차 정규화로 분리된 엔티티 
						 - ex)주문상품, 주문배송
					 - 교차 엔티티 : 엔티티 간에 발생하는 트랜잭션에 의해 성성된 엔티티
				 - 생성관점
					 - 핵심 엔티티 : 고객, 상품, 조직처럼 부모 엔티티가 없는 독립적인 엔티티
					 - 중요 엔티티 : 핵심 엔티티간의 거래 관계에 의해 생성되는 엔티티, 업무에 핵심이 되는 엔티티
						 - 계약은 고객과 상품의 거래 관계에 의해 생성되며, 고객과 상품을 부모로 갖는다.
					 - 행위 엔티티 : 실제 업무 행위에 의해 지속해서 발생하는 거래 행위에 대한 엔티티
				 - 유무형관점
					 - 실체 엔티티 : 고객, 상품과 같이 눈으로 볼 수 있는 물리적인 형태를 가지는 엔티티
					 - 비실체 엔티티
						 - 개념 엔티티 : 조직, 보험상품, 서비스 등 형태는 없지만 개념적으로 존재하는 엔티티
						 - 사건 엔티티 : 계약, 주문, 결제 등 업무 행위와 관련된 엔티티
		2. 관계(Relationship)
			엔티티들간의 서로 존재하는 업무 규칙을 정의하고 어떤관계가 이루어질수있는지 표현하는것
			- 관계의 구성요소
		 		- 관계수(cardinality)
					- 엔티티간의 대응되는 최대 인스턴스 수
						상대 엔티티 쪽에 까마귀 발 (Crow’s Foot)로 표시한다.
							반드시 양쪽다 서로의 관계를 확인해야함
							왼쪽관점에서 먼저 확인후 오르쪽 관점에서 확인
					- #[ㅇ]('Pasted image 20240216171604.png')
				- 선택성(optionality)
					필수냐 선택이냐 로 구분이 가능하다.
					엔티티 인스턴스에 대한 상대 엔티티 인스턴스 존재 유무를 나타낸다.
					- ![[Pasted image 20240216171734.png]]
				- 식별성(IdentifierInheritance)=식별자 상속
					- 식별자 상속은 식별관계와 비식별 관계로 구분할 수 있다.
						- 식별 관계는 참조되는 상위 엔티티 식별자가 참조하는 하위 엔티티 식별자로 상속되는 경우를 말한다.
							ex) 고객주소의 고객번호(FK)가 주문 엔티티에서 고객번호(FK)로 상속된다.
						- 비식별 관계는 식별자가 아닌 일반 속성으로 상속되는 관계를 말한다. 
							- 다른 테이블의 PK이자 내 테이블의 FK, FK인 동시에 PK인것
				- 관계명
		3. 속성(Attribute) 
		 	- = iv
			- 데이터를 표현하는 가장 작은 단위, 하나의 엔티티는 두개 이상의 속성을 가진다.
				- 속성명 : 실체의 특성을 규정하는 속성 명칭
				- 식별자 여부 : 해당 속성이 엔티티 식별자에 해당하는지 표시
				- 옵셔널리티 : 엔티티에 인스턴스가 발생할 때 값을 가져야 하는지에 대한 구분.
				- 도메인 : 속성이 허용하는 데이터 형식과 범위를 가지고 있다.
		4. 식별자(Identifier)
		 	- 관계+속성의 조합
			- 엔티티에서 인스턴스를 개별적으로 식별할 수 있는 속성들이다. 
				- 특징 : 유일성, 최소성, 불변성, 존재성(Not null)
	* ER모델의 질적특성:
	 	- 완전성: 
			  ER모델은 현실세계의 모든 업무적인 요구사항을 표현하고 있어야 한다
		- 정확성: 
			  ER모델의 개념대로 데이터 모델을 작성 (요구사항파악잘해야)
		- 최소성: 
			  ER모델에서 요구사항의 모든 특성이 한번만 나오도록 설계(중복x) 
		- 자명성:
			  유연한 ER모델 설계 (요구사항 쉽게 반영가능하게)
2. RM모델(관계모델)= sql모델과 유사(용어, 개념 일부다름)
	* 데이터를 2차원테이블(표) 형식으로 정의하고 표현한 모델
	* 릴레이션(테이블)
		- 릴레이션 구성
		 	- ![[Pasted image 20240216172552.png]]
			- 스키마(헤더, 구조)
				- 릴레이션 명: 표를 구성하는 각 열을 의미
				- 속성(attribute):컬럼 
					- 더는 쪼갤수없는 원자 값
					- 값이 서로 다르며 유일해야함
			- 인스턴스(본문, 실제값)
				- 튜플(tuples):로우
					- 릴레이션의 각 행
					- 튜플 중복x 튜플 값은 동일해도 ok 
					- RB의 key
						- ![[Pasted image 20240216173057.png]]
						- 수퍼키(sk): 튜플을 고유하게 식별할수있는 속성 집합
							- 릴레이션는 한개 이상의 슈퍼키를 가질수 있음
							- 슈퍼 키의 값은 모든 튜플에서 유일해야함
								- 사원번호+ 사원명 이 두개가 고유의 값(사원번호로는 유일하지 못함)
						- 후보키(ck): 튜플을 고유하게 식별할수있는 최소한의 속성 집합
							- 모든 후보 키는 슈퍼, 그러나 모든 슈퍼 키가 후보 키는 아님 (슈퍼 키 가 후보 키 포함)
						- 기본키(pk): 하나 이상의 후보키에서 선택한 단 한개의 키
							- 유일성, 최소성을 가짐
							- null값 불가능
						- 대체키(ak): 후보키 중에서 기본키가 아닌 후보키
						- 외래키(fk): 어떤 릴레이션의 속성값이 다른 릴레이션의 속성의 기본키를 참조하는 경우
							- 중복된 튜플 가능
							- Null값 가능
	* 제약조건(이거는 수업듣고 정리)
		- 목적: DB에 오염된 데이터 들어오는것 막기
		- pk 
			- (키 제약조건): 
				- 키는 튜플을 구별가능한 속성들로 구성
				- 필드에 unique와 not null의 특징을 가짐
		- not null (실체무결성): 
			- 기본키를 구성하는 모든 속성은 null값이 아니고 오직 하나의 값만 존재
		- domain (영역무결성): 
			- 정의된 도메인(영역)내의 값만 받음
		- fk (참조무결성):
			- 외래키는 부모 릴레이션의 기본키 값만 가능
		- unique
			- 중복값x 
		- 
3. HM모델(계층모델)
4. network모델(망모델)
---
## 모델링 순서
 - 개념모델링-> 논리모델링 -> 몰리모델링
	1. 개념 모델링 :의미있는 대상을 정보로 식별(분석)
		- 현장시스템(업무)+ 추가요구사항을 업무파악 용도로 식별
		- 영수증의 데이터에서 관리해야할 데이터를 식별하고 모형화하여 하나의 엔티티와 속성들로 표현할 수 있다.
	 2. 논리 모델링: 개념모델링을 기호등을 통해 추상화하여 표현(설계)
	 3. 물리 모델링: db구축을 위해 구체화(구현)


Rm인지 er인지...
	- 함수종속
		- 관계형DB(RDB)설계시 정규화과정에서 함수종속이 중요하게 사용
		- a값을 알면 b의 값을 알수있다
		- 고객명은 고객번호에 함수적 종속성이 있다
	- 정규화: 단계별로 테이블 쪼개기
		- 데이터 입력,수정,삭제과정에서 발생하는 이상현상 최소화하고 중복을 없애기 위해 더 작은 단위의 테이블로 설계하는 과정
		- 장점
		- 주의사항
			- 제 1,2,3정규형
			- 연결함정
			- 균열함정

## 관계형 모델이랑 관계모델이랑 다른거 모르고
관계모델 특징에 관계형 모델 올인함
나중에 그거 수정하기...